# 📸 인스타그램 공유 기능 가이드

## 🎯 기능 개요

사용자가 계산한 영양성분을 인스타그램에 최적화된 이미지로 변환하여 공유할 수 있는 기능입니다.

### 주요 특징

1. **인스타그램 최적 사이즈 지원**
   - 스토리용: 1080 x 1920 (9:16)
   - 피드용: 1080 x 1080 (1:1)

2. **고품질 이미지 생성**
   - 2배 스케일 렌더링으로 선명한 이미지
   - 그라디언트 배경으로 시각적 매력 UP

3. **다양한 공유 방법**
   - 💾 이미지 다운로드
   - 📤 Web Share API로 직접 공유 (모바일)
   - 🖼️ 스토리/피드 포맷 선택 가능

## 🎨 디자인 특징

### 스토리 카드 (1080x1920)
- 세로형 전체 화면 레이아웃
- 상단: 이모지 + 타이틀
- 중간: 선택한 메뉴 리스트 + 주요 영양성분 (4개 그리드)
- 하단: 워터마크 + URL

### 피드 카드 (1080x1080)
- 정사각형 레이아웃
- 중앙 집중형 디자인
- 주요 영양성분 3개만 표시 (칼로리, 단백질, 나트륨)
- 간결한 구성

## 💻 기술 스택

- **html2canvas**: HTML 요소를 이미지로 변환
- **Web Share API**: 네이티브 공유 기능 (모바일)
- **Canvas API**: 고품질 이미지 생성

## 🚀 사용 방법

### 1. 메뉴 선택
- 원하는 샌드위치, 빵, 토핑 등을 선택
- "영양성분 계산하기" 버튼 클릭

### 2. 인스타그램 공유 클릭
- "📸 인스타그램 공유" 버튼 클릭
- 미리보기 화면이 나타남

### 3. 포맷 선택
- 📱 스토리: 세로형 (인스타그램 스토리용)
- 🖼️ 피드: 정사각형 (인스타그램 피드용)

### 4. 공유/저장
- **모바일**: "인스타그램 공유" 버튼 → 인스타그램 앱 선택
- **PC**: "이미지 저장" 버튼 → 다운로드 후 업로드

## 📱 브라우저 호환성

### Web Share API 지원
- ✅ Safari (iOS 12.2+, macOS)
- ✅ Chrome (Android, Windows 11)
- ✅ Edge (Windows 11)
- ❌ 기타 브라우저: 다운로드 기능으로 대체

### html2canvas 지원
- ✅ 모든 모던 브라우저

## 🎯 마케팅 효과

### 바이럴 요소
1. **해시태그 자동 포함**
   - #서브웨이 #건강식단 #다이어트
   - 자연스러운 브랜드 노출

2. **워터마크**
   - 하단에 www.subwayyy.kr 포함
   - 이미지 공유 시 자동 홍보

3. **시각적 매력**
   - 그라디언트 배경
   - 이모지 활용
   - 깔끔한 타이포그래피

### 기대 효과
- 사용자 참여도 증가
- 자연스러운 바이럴 마케팅
- 브랜드 인지도 상승
- 재방문율 증가

## 🔧 커스터마이징

### 색상 변경
```css
/* 스토리 배경 그라디언트 */
.instagram-story-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* 피드 배경 그라디언트 */
.instagram-feed-card {
    background: linear-gradient(135deg, #008B47 0%, #009639 50%, #FFDD00 100%);
}
```

### 워터마크 수정
```javascript
// instagram_share.html 내부
<div class="watermark">🥪 SUBWAYYY</div>
<div class="url">www.subwayyy.kr</div>
```

### 이모지 변경
```javascript
// updateStoryCard 함수에서
document.getElementById('story-emoji').innerText = '🥗'; // 원하는 이모지로 변경
```

## 🐛 트러블슈팅

### 이미지가 생성되지 않는 경우
1. html2canvas 라이브러리 로드 확인
2. CORS 문제: 외부 이미지는 프록시 필요
3. 브라우저 콘솔에서 에러 확인

### 공유 버튼이 작동하지 않는 경우
1. HTTPS 필수 (Web Share API 요구사항)
2. 모바일 브라우저 사용 권장
3. 대체로 다운로드 기능 사용

### 이미지 품질이 낮은 경우
```javascript
// scale 값 증가
const canvas = await html2canvas(card, {
    scale: 3, // 2에서 3으로 증가 (더 선명)
});
```

## 📈 향후 개선 사항

1. **더 많은 템플릿**
   - 계절별 테마
   - 특정 다이어트 목적별 (감량/증량/유지)
   - 명절 특별 디자인

2. **스티커/텍스트 추가 기능**
   - 사용자가 메시지 입력
   - 이모지 스티커 선택
   - 목표 달성 뱃지

3. **통계 추가**
   - "목표의 85% 달성!"
   - "일일 권장량 대비 비교"
   - "이번주 평균과 비교"

4. **AI 추천 문구**
   - 자동으로 매력적인 캡션 생성
   - 적절한 해시태그 추천

## 📞 지원

문제가 있거나 제안사항이 있으시면 이슈를 등록해주세요!
